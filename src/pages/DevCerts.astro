---
// src/components/DevCerts.astro

const certs = [
    {
        id: "9d60dc-0cbd-42d1-832b",
        name: "Oracle Next Education F2 T4 Front-end",
        institution: "Alura Latam",
        status: "Verified",
    },
    {
        id: "38FAB1E32",
        name: "GitHub Universe Cloud Skills Challenge!",
        institution: "Microsoft",
        status: "Verified",
    },
    {
        id: "58TYDWXHS",
        name: "Gopgle IT Support",
        institution: "Google",
        status: "Verified",
    },
];
---

<section class="py-12 px-6 md:px-20 max-w-7xl mx-auto">
    <div class="mb-8 opacity-0 reveal-dev-certs-title">
        <span
            class="font-montserrat font-medium text-sm text-theme-muted uppercase tracking-[0.2em]"
            data-lang="title.certs"
        >
            // Certificaciones.json
        </span>
    </div>

    <div
        class="opacity-0 reveal-dev-editor w-full bg-[#1e1e1e] border border-[#333] rounded-lg shadow-2xl overflow-hidden font-mono text-sm md:text-base relative group hover:border-[#444] transition-colors"
    >
        <div
            class="bg-[#252526] px-0 flex items-center border-b border-[#1e1e1e]"
        >
            <div
                class="px-4 py-2 bg-[#1e1e1e] text-white border-t-2 border-blue-500 flex items-center gap-2 text-xs"
            >
                <span class="text-yellow-400">{}</span>
                <span data-lang="title.vscode">Certificates.json</span>
                <span class="text-gray-500 ml-2">x</span>
            </div>
        </div>

        <div class="p-6 text-[#d4d4d4] overflow-x-auto">
            <div class="flex">
                <div
                    class="pr-4 text-[#6e7681] text-right select-none border-r border-[#333] mr-4 hidden md:block"
                >
                    1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br
                    />10<br />11<br />12<br />13<br />14<br />15
                </div>

                <div class="code-content">
                    <span class="text-[#ffd700]">[</span><br />
                    {
                        certs.map((cert, index) => (
                            <div class="pl-4 md:pl-0">
                                <>
                                    <span class="text-[#ffd700]">
                                        &nbsp;&nbsp;{`{`}
                                    </span>
                                    <br />
                                </>
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <span class="text-[#9cdcfe]">"id"</span>:{" "}
                                <span class="text-[#ce9178]">"{cert.id}"</span>,
                                <br />
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <span class="text-[#9cdcfe]">
                                    "certification"
                                </span>
                                :{" "}
                                <span class="text-[#ce9178]">
                                    "{cert.name}"
                                </span>
                                ,<br />
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <span class="text-[#9cdcfe]">
                                    "institution"
                                </span>
                                :{" "}
                                <span class="text-[#ce9178]">
                                    "{cert.institution}"
                                </span>
                                ,<br />
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <span class="text-[#9cdcfe]">
                                    "status"
                                </span>:{" "}
                                <>
                                    <span class="text-[#4ec9b0]">
                                        "{cert.status}"
                                    </span>
                                    <br />
                                </>
                                <span class="text-[#ffd700]">
                                    &nbsp;&nbsp;
                                    {`}${index !== certs.length - 1 ? "," : ""}`}
                                </span>
                            </div>
                        ))
                    }
                    <span class="text-[#ffd700]">]</span>
                    <span
                        class="animate-pulse inline-block w-2 h-4 bg-gray-500 ml-1 align-middle"
                    ></span>
                </div>
            </div>
        </div>
    </div>

    <div class="mt-8 opacity-0 reveal-text">
        <a
            id="btn-cv"
            href="#"
            target="_blank"
            class="p-2 rounded-full hover:bg-theme-muted/10 text-theme-text transition-colors"
            data-lang="cv.btn"
        >
            DESCARGAR CV
        </a>
    </div>
</section>

<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";
    gsap.registerPlugin(ScrollTrigger);

    gsap.to([".reveal-dev-certs-title", ".reveal-dev-editor"], {
        scrollTrigger: { trigger: ".reveal-dev-editor", start: "top 85%" },
        y: 0,
        opacity: 1,
        duration: 0.8,
        stagger: 0.2,
        ease: "power2.out",
    });

    gsap.set([".reveal-dev-certs-title", ".reveal-dev-editor"], { y: 20 });
</script>
